name: ecommerce-node
description: "E-Commerce Platform â€” Node.js/Express environment"

base_image: workspace-node:latest

services:
  - postgres
  - redis

resources:
  cpu_limit: "2"
  memory_limit: "4Gi"
  cpu_request: "0.5"
  memory_request: "512Mi"
  disk_limit: "10Gi"

env:
  NODE_ENV: development

ttl: 4h

expose:
  - container: 3000
    protocol: tcp
    name: app
    public: true

  - container: 9229
    protocol: tcp
    name: debug
    public: false

volumes:
  - name: workspace
    mount_path: /workspace
    read_only: false
    size: "5Gi"

  - name: npm-cache
    mount_path: /home/coder/.npm
    read_only: false
    size: "1Gi"

commands:
  init: []
  start: []
  stop: []
  healthcheck: "pgrep -x bash > /dev/null"

labels:
  category: backend
  language: node
  framework: express
