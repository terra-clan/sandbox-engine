# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# PostgreSQL (shared instance for all sandboxes)
DATABASE_DSN=postgres://sandbox:sandbox_secret@localhost:5432/sandbox_engine?sslmode=disable

# Redis (shared instance with key prefix isolation)
REDIS_ADDRESS=localhost:6379
REDIS_PASSWORD=redis_secret
REDIS_DB=0

# Docker Configuration
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_NETWORK=sandbox-network
DOCKER_REGISTRY=ghcr.io/terra-clan
DOCKER_PULL_POLICY=if-not-present

# Traefik Configuration
TRAEFIK_ENABLED=true
TRAEFIK_NETWORK=sandbox-network
SANDBOX_DOMAIN=sandbox.local
TRAEFIK_ENTRYPOINT=websecure
TRAEFIK_CERT_RESOLVER=letsencrypt

# Cloudflare DNS Challenge (for Let's Encrypt wildcard certs)
# Required for production with SSL
ACME_EMAIL=admin@example.com
CF_API_EMAIL=admin@example.com
CF_DNS_API_TOKEN=your_cloudflare_dns_api_token

# Templates
TEMPLATES_DIR=./templates

# Cleanup Worker
CLEANUP_INTERVAL=5m

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# API Authentication
# ===========================================
# API keys are stored in database (api_clients table)
# Default development keys (see migrations/002_api_clients.sql):
#
# terra-sandbox: sk_dev_terrasandbox_xxxxxxxxxxxxx
# sota-projects: sk_dev_sotaprojects_xxxxxxxxxxxxx
#
# Usage in requests:
#   Authorization: Bearer sk_dev_terrasandbox_xxxxxxxxxxxxx
#   or
#   X-API-Key: sk_dev_terrasandbox_xxxxxxxxxxxxx
#
# For production, generate secure keys:
#   openssl rand -hex 32 | sed 's/^/sk_prod_/'
